{
  "hash": "36b719f9d9fa247f41126f78821e53f6",
  "result": {
    "markdown": "---\ntitle: \"Shiny test\"\nauthor: \"Brenden Smith\"\nserver: shiny\n---\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'tidycensus' was built under R version 4.1.2\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'leaflet' was built under R version 4.1.2\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n✔ ggplot2 3.3.6      ✔ purrr   0.3.4 \n✔ tibble  3.1.8      ✔ dplyr   1.0.10\n✔ tidyr   1.2.1      ✔ stringr 1.4.1 \n✔ readr   2.1.2      ✔ forcats 0.5.1 \n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'tibble' was built under R version 4.1.2\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'tidyr' was built under R version 4.1.2\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'readr' was built under R version 4.1.2\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'dplyr' was built under R version 4.1.2\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'stringr' was built under R version 4.1.2\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nTo install your API key for use in future sessions, run this function with `install = TRUE`.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nGetting data from the 2016-2020 5-year ACS\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nDownloading feature geometry from the Census website.  To cache shapefiles for use in future sessions, set `options(tigris_use_cache = TRUE)`.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nFetching data by table type (\"B/C\", \"S\", \"DP\") and combining the result.\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n\n  |                                                                            \n  |                                                                      |   0%\n  |                                                                            \n  |=                                                                     |   1%\n  |                                                                            \n  |=                                                                     |   2%\n  |                                                                            \n  |==                                                                    |   2%\n  |                                                                            \n  |==                                                                    |   3%\n  |                                                                            \n  |===                                                                   |   4%\n  |                                                                            \n  |===                                                                   |   5%\n  |                                                                            \n  |====                                                                  |   5%\n  |                                                                            \n  |====                                                                  |   6%\n  |                                                                            \n  |=====                                                                 |   7%\n  |                                                                            \n  |=====                                                                 |   8%\n  |                                                                            \n  |======                                                                |   8%\n  |                                                                            \n  |=======                                                               |   9%\n  |                                                                            \n  |=======                                                               |  10%\n  |                                                                            \n  |========                                                              |  11%\n  |                                                                            \n  |========                                                              |  12%\n  |                                                                            \n  |=========                                                             |  12%\n  |                                                                            \n  |=========                                                             |  13%\n  |                                                                            \n  |==========                                                            |  14%\n  |                                                                            \n  |==========                                                            |  15%\n  |                                                                            \n  |===========                                                           |  16%\n  |                                                                            \n  |============                                                          |  17%\n  |                                                                            \n  |=============                                                         |  19%\n  |                                                                            \n  |==============                                                        |  20%\n  |                                                                            \n  |===============                                                       |  21%\n  |                                                                            \n  |================                                                      |  22%\n  |                                                                            \n  |=================                                                     |  24%\n  |                                                                            \n  |=================                                                     |  25%\n  |                                                                            \n  |==================                                                    |  26%\n  |                                                                            \n  |===================                                                   |  27%\n  |                                                                            \n  |====================                                                  |  28%\n  |                                                                            \n  |=====================                                                 |  30%\n  |                                                                            \n  |======================                                                |  31%\n  |                                                                            \n  |=======================                                               |  33%\n  |                                                                            \n  |========================                                              |  34%\n  |                                                                            \n  |=========================                                             |  36%\n  |                                                                            \n  |==========================                                            |  37%\n  |                                                                            \n  |===========================                                           |  38%\n  |                                                                            \n  |===========================                                           |  39%\n  |                                                                            \n  |============================                                          |  40%\n  |                                                                            \n  |=============================                                         |  42%\n  |                                                                            \n  |==============================                                        |  43%\n  |                                                                            \n  |===============================                                       |  44%\n  |                                                                            \n  |================================                                      |  46%\n  |                                                                            \n  |=================================                                     |  47%\n  |                                                                            \n  |=================================                                     |  48%\n  |                                                                            \n  |==================================                                    |  49%\n  |                                                                            \n  |===================================                                   |  50%\n  |                                                                            \n  |===================================                                   |  51%\n  |                                                                            \n  |====================================                                  |  52%\n  |                                                                            \n  |=====================================                                 |  53%\n  |                                                                            \n  |======================================                                |  54%\n  |                                                                            \n  |=======================================                               |  55%\n  |                                                                            \n  |========================================                              |  56%\n  |                                                                            \n  |========================================                              |  58%\n  |                                                                            \n  |=========================================                             |  59%\n  |                                                                            \n  |==========================================                            |  60%\n  |                                                                            \n  |===========================================                           |  62%\n  |                                                                            \n  |============================================                          |  63%\n  |                                                                            \n  |=============================================                         |  64%\n  |                                                                            \n  |==============================================                        |  65%\n  |                                                                            \n  |===============================================                       |  67%\n  |                                                                            \n  |===============================================                       |  68%\n  |                                                                            \n  |================================================                      |  69%\n  |                                                                            \n  |=================================================                     |  70%\n  |                                                                            \n  |==================================================                    |  71%\n  |                                                                            \n  |===================================================                   |  73%\n  |                                                                            \n  |====================================================                  |  74%\n  |                                                                            \n  |=====================================================                 |  75%\n  |                                                                            \n  |=====================================================                 |  76%\n  |                                                                            \n  |======================================================                |  77%\n  |                                                                            \n  |=======================================================               |  79%\n  |                                                                            \n  |========================================================              |  80%\n  |                                                                            \n  |=========================================================             |  81%\n  |                                                                            \n  |==========================================================            |  82%\n  |                                                                            \n  |===========================================================           |  84%\n  |                                                                            \n  |============================================================          |  86%\n  |                                                                            \n  |=============================================================         |  87%\n  |                                                                            \n  |==============================================================        |  88%\n  |                                                                            \n  |==============================================================        |  89%\n  |                                                                            \n  |===============================================================       |  90%\n  |                                                                            \n  |=================================================================     |  92%\n  |                                                                            \n  |=================================================================     |  93%\n  |                                                                            \n  |==================================================================    |  95%\n  |                                                                            \n  |===================================================================   |  96%\n  |                                                                            \n  |====================================================================  |  97%\n  |                                                                            \n  |===================================================================== |  98%\n  |                                                                            \n  |======================================================================|  99%\n  |                                                                            \n  |======================================================================| 100%\n```\n:::\n:::\n\n::: {.cell .panel-sidebar}\n\n:::\n\n::: {.cell .panel-fill}\n::: {.cell-output-display}\n`<div id=\"&lt;div id=&quot;map&quot; style=&quot;width:100%; height:600px; &quot; class=&quot;leaflet html-widget html-widget-output&quot;&gt;&lt;/div&gt;\" class=\"shiny-plot-output\" style=\"width:100%;height:400px;\"></div>`{=html}\n:::\n:::\n\n::: {.cell context='server'}\n\n:::\n\npreserve4325c95eb49c3d9a\npreserve69f3ef9e2418baa6\n\n<!--html_preserve-->\n<script type=\"application/shiny-prerendered\" data-context=\"dependencies\">\n{\"type\":\"list\",\"attributes\":{},\"value\":[]}\n</script>\n<!--/html_preserve-->\n<!--html_preserve-->\n<script type=\"application/shiny-prerendered\" data-context=\"execution_dependencies\">\n{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"packages\"]}},\"value\":[{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"packages\",\"version\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"data.frame\"]},\"row.names\":{\"type\":\"integer\",\"attributes\":{},\"value\":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"assertthat\",\"backports\",\"base\",\"broom\",\"bslib\",\"cellranger\",\"class\",\"classInt\",\"cli\",\"colorspace\",\"compiler\",\"crayon\",\"crosstalk\",\"curl\",\"datasets\",\"DBI\",\"dbplyr\",\"digest\",\"dplyr\",\"e1071\",\"ellipsis\",\"evaluate\",\"fansi\",\"fastmap\",\"forcats\",\"foreign\",\"fs\",\"generics\",\"ggplot2\",\"glue\",\"graphics\",\"grDevices\",\"grid\",\"gtable\",\"haven\",\"hms\",\"htmltools\",\"htmlwidgets\",\"httpuv\",\"httr\",\"jquerylib\",\"jsonlite\",\"KernSmooth\",\"knitr\",\"later\",\"lattice\",\"leaflet\",\"lifecycle\",\"lubridate\",\"magrittr\",\"maptools\",\"methods\",\"mime\",\"modelr\",\"munsell\",\"pillar\",\"pkgconfig\",\"promises\",\"proxy\",\"purrr\",\"R6\",\"rappdirs\",\"Rcpp\",\"readr\",\"readxl\",\"reprex\",\"rgdal\",\"rlang\",\"rmarkdown\",\"rstudioapi\",\"rvest\",\"sass\",\"scales\",\"sf\",\"shiny\",\"sp\",\"stats\",\"stringi\",\"stringr\",\"tibble\",\"tidycensus\",\"tidyr\",\"tidyselect\",\"tidyverse\",\"tigris\",\"tools\",\"tzdb\",\"units\",\"utf8\",\"utils\",\"uuid\",\"vctrs\",\"withr\",\"xfun\",\"xml2\",\"xtable\",\"yaml\"]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"0.2.1\",\"1.4.1\",\"4.1.1\",\"1.0.1\",\"0.3.1\",\"1.1.0\",\"7.3-20\",\"0.4-7\",\"3.4.0\",\"2.0-3\",\"4.1.1\",\"1.5.1\",\"1.2.0\",\"4.3.2\",\"4.1.1\",\"1.1.2\",\"2.1.1\",\"0.6.29\",\"1.0.10\",\"1.7-11\",\"0.3.2\",\"0.16\",\"1.0.3\",\"1.1.0\",\"0.5.1\",\"0.8-82\",\"1.5.2\",\"0.1.3\",\"3.3.6\",\"1.6.2\",\"4.1.1\",\"4.1.1\",\"4.1.1\",\"0.3.1\",\"2.5.1\",\"1.1.1\",\"0.5.2\",\"1.5.4\",\"1.6.5\",\"1.4.3\",\"0.1.4\",\"1.8.0\",\"2.23-20\",\"1.40\",\"1.3.0\",\"0.20-45\",\"2.1.1\",\"1.0.2\",\"1.8.0\",\"2.0.3\",\"1.1-4\",\"4.1.1\",\"0.12\",\"0.1.9\",\"0.5.0\",\"1.8.1\",\"2.0.3\",\"1.2.0.1\",\"0.4-27\",\"0.3.4\",\"2.5.1\",\"0.3.3\",\"1.0.9\",\"2.1.2\",\"1.4.0\",\"2.0.1\",\"1.5-32\",\"1.0.5\",\"2.14\",\"0.13\",\"1.0.2\",\"0.4.1\",\"1.2.1\",\"1.0-8\",\"1.7.2\",\"1.4-7\",\"4.1.1\",\"1.7.8\",\"1.4.1\",\"3.1.8\",\"1.2.3\",\"1.2.1\",\"1.1.2\",\"1.3.1\",\"1.6.1\",\"4.1.1\",\"0.3.0\",\"0.8-0\",\"1.2.2\",\"4.1.1\",\"1.1-0\",\"0.4.1\",\"2.5.0\",\"0.33\",\"1.3.3\",\"1.8-4\",\"2.3.5\"]}]}]}\n</script>\n<!--/html_preserve-->",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {
      "preserve4325c95eb49c3d9a": "\n<script type=\"application/shiny-prerendered\" data-context=\"server\">\ngroup_to_map <- reactive({\n    filter(mi_cap_race, variable == input$group)\n  })\n  \n  # Initialize the map object, centered on the Minneapolis-St. Paul area\n  output$map <- renderLeaflet({\n    \n    leaflet(options = leafletOptions(zoomControl = FALSE)) %>%\n      addProviderTiles(providers$Stamen.TonerLite) %>%\n      setView(lng = -84.55,\n              lat = 42.73,\n              zoom = 9)\n    \n  })\n  \n  observeEvent(input$group, {\n    \n    pal <- colorNumeric(\"viridis\", group_to_map()$estimate)\n    \n    leafletProxy(\"map\") %>%\n      clearShapes() %>%\n      clearControls() %>%\n      addPolygons(data = group_to_map(),\n                  color = ~pal(estimate),\n                  weight = 0.5,\n                  fillOpacity = 0.5,\n                  smoothFactor = 0.2,\n                  label = ~estimate) %>%\n      addLegend(\n        position = \"bottomright\",\n        pal = pal,\n        values = group_to_map()$estimate,\n        title = \"% of population\"\n      )\n  })\n</script>\n",
      "preserve69f3ef9e2418baa6": "\n<script type=\"application/shiny-prerendered\" data-context=\"server-extras\">\nojs_define <- function(..., .session = shiny::getDefaultReactiveDomain()) {\n  quos <- rlang::enquos(...)\n  vars <- rlang::list2(...)\n  nm <- names(vars)\n  if (is.null(nm)) {\n    nm <- rep_len(\"\", length(vars))\n  }\n  mapply(function(q, nm, val) {\n    # Infer name, if possible\n    if (nm == \"\") {\n      tryCatch({\n        nm <- rlang::as_name(q)\n      }, error = function(e) {\n        code <- paste(collapse = \"\\n\", deparse(rlang::f_rhs(q)))\n        stop(\"ojs_define() could not create a name for the argument: \", code)\n      })\n    }\n    .session$output[[nm]] <- val\n    outputOptions(.session$output, nm, suspendWhenHidden = FALSE)\n    .session$sendCustomMessage(\"ojs-export\", list(name = nm))\n    NULL\n  }, quos, nm, vars, SIMPLIFY = FALSE, USE.NAMES = FALSE)\n  invisible()\n}\n</script>\n"
    },
    "postProcess": true
  }
}